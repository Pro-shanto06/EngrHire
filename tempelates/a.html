app.get('/search', async (req, res) => {
  try {
    const { query: keyword } = req.query;

    // Check if the keyword is present
    if (!keyword || typeof keyword !== 'string') {
      return res.status(400).json({ success: false, error: 'Invalid or missing search keyword' });
    }

    console.log('Searching for keyword:', keyword);

    // Engineer search
    const fullTextEngineerResults = await Engineer.find({ $text: { $search: keyword } }, { score: { $meta: 'textScore' } })
      .sort({ score: { $meta: 'textScore' } })
      .select('full_name designation location');

    const regexEngineerResults = await Engineer.find({ location: { $regex: new RegExp(keyword, 'i') } })
      .select('full_name designation location');

    const engineerResults = [...fullTextEngineerResults, ...regexEngineerResults];

    // Job search
    const fullTextJobResults = await Job.find({ $text: { $search: keyword } }, { score: { $meta: 'textScore' } })
      .sort({ score: { $meta: 'textScore' } })
      .select('jobTitle clientName jobLocation category');

    const regexJobResults = await Job.find({ jobLocation: { $regex: new RegExp(keyword, 'i') } })
      .select('jobTitle clientName jobLocation category');

    const jobResults = [...fullTextJobResults, ...regexJobResults];

    // Client search
    const fullTextClientResults = await Client.find({ $text: { $search: keyword } }, { score: { $meta: 'textScore' } })
      .sort({ score: { $meta: 'textScore' } })
      .select('full_name email location');

    const regexClientResults = await Client.find({ location: { $regex: new RegExp(keyword, 'i') } })
      .select('full_name email location');

    const clientResults = [...fullTextClientResults, ...regexClientResults];

    console.log('Engineer Results:', engineerResults);
    console.log('Job Results:', jobResults);
    console.log('Client Results:', clientResults);

    res.render('searchResults', { results: { engineers: engineerResults, jobs: jobResults, clients: clientResults } });
  } catch (error) {
    console.error('Error in keyword search:', error);
    res.status(500).json({ success: false, error: error.message || 'Internal Server Error' });
  }
});
<p>Akanto</p>